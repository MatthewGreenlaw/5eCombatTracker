(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t){},113:function(e,t,a){},123:function(e,t,a){},136:function(e,t){},138:function(e,t){},146:function(e,t,a){},147:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n,r,l=a(0),c=a.n(l),i=a(35),s=a.n(i),o=(a(82),a(83),a(168)),m=a(169),u=a(170),d=a(22),h=a(28),p=(a(84),a(73)),v=a.n(p),E=a(8),g=a(9),f=a(11),b=a(10),k=a(13),y=a(12),O=a(161),j=a(162),x=a(163),C=a(18),D=a.n(C),S=a(27),w=a(155),A=a(156),P=a(157),N=a(158),H=a(171),M=a(159),V=a(160),F=(a(113),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).hide=a.hide.bind(Object(k.a)(a)),a.state={nth:a.props.nth,n:a.props.n,die:a.props.die,mod:a.props.mod,res:a.props.res,advantage:!1,disadvantage:!1,critical:!1,hidden:!1},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"setN",value:function(){var e=Object(S.a)(D.a.mark(function e(t){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({n:t,res:0});case 2:this.props.callback({nth:this.state.nth,n:t,die:this.state.die,mod:this.state.mod,res:0,advantage:this.state.advantage,disadvantage:this.state.disadvantage,critical:this.statecritical,hidden:this.state.hidden},!1);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setDie",value:function(){var e=Object(S.a)(D.a.mark(function e(t){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({die:t,res:0});case 2:this.props.callback({nth:this.state.nth,n:this.state.n,die:t,mod:this.state.mod,res:0,advantage:this.state.advantage,disadvantage:this.state.disadvantage,critical:this.statecritical,hidden:this.state.hidden},!1);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setMod",value:function(){var e=Object(S.a)(D.a.mark(function e(t){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({mod:t,res:0});case 2:this.props.callback({nth:this.state.nth,n:this.state.n,die:this.state.die,mod:t,res:0,advantage:this.state.advantage,disadvantage:this.state.disadvantage,critical:this.statecritical,hidden:this.state.hidden},!1);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"hide",value:function(){var e=Object(S.a)(D.a.mark(function e(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({hidden:!0});case 2:this.props.callback({nth:this.state.nth,hidden:!0},!0);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=function(){e.props.callback({nth:e.state.nth,n:1,die:e.state.die,mod:e.state.mod,res:0,advantage:!e.state.advantage,disadvantage:e.state.disadvantage,critical:e.statecritical,hidden:e.state.hidden},!1),e.setState({advantage:!e.state.advantage,n:1,res:0})},a=function(){e.props.callback({nth:e.state.nth,n:1,die:e.state.die,mod:e.state.mod,res:0,advantage:e.state.advantage,disadvantage:!e.state.disadvantage,critical:e.statecritical,hidden:e.state.hidden},!1),e.setState({disadvantage:!e.state.disadvantage,n:1,res:0})},n=function(){e.props.callback({nth:e.state.nth,n:e.state.n,die:e.state.die,mod:e.state.mod,res:0,advantage:e.state.advantage,disadvantage:e.state.disadvantage,critical:!e.statecritical,hidden:e.state.hidden},!1),e.setState({critical:!e.state.critical,res:0})};return c.a.createElement(H.a,{fade:!1},c.a.createElement(M.a,{toggle:this.props.removable?this.hide:null},20===e.state.die?c.a.createElement(w.a,{inline:!0},c.a.createElement(A.a,{check:!0},c.a.createElement(P.a,{check:!0,sm:2},c.a.createElement(N.a,{type:"checkbox",onChange:t,checked:e.state.advantage})," ","Advantage"," ")),c.a.createElement(A.a,{check:!0},c.a.createElement(P.a,{check:!0,sm:2},c.a.createElement(N.a,{type:"checkbox",onChange:a,checked:e.state.disadvantage})," ","Disadvantage"," "))):c.a.createElement(w.a,{inline:!0},c.a.createElement(A.a,{check:!0},c.a.createElement(P.a,{check:!0,sm:2},c.a.createElement(N.a,{type:"checkbox",onClick:n,checked:e.state.critical}),"Critical")))),c.a.createElement(V.a,null,c.a.createElement(w.a,{inline:!0},c.a.createElement(A.a,{inline:!0},this.state.advantage||this.state.disadvantage?e.state.advantage&&e.state.disadvantage?c.a.createElement(P.a,null,c.a.createElement(N.a,{type:"number",value:1,className:"width-sm",readOnly:!0})," d "):c.a.createElement(P.a,null,c.a.createElement(N.a,{type:"number",value:2,className:"width-sm",readOnly:!0})," d "):c.a.createElement(P.a,null,c.a.createElement(N.a,{type:"number",onChange:function(t){return e.setN(+t.target.value)},placeholder:e.state.n})," d "),c.a.createElement(P.a,null,c.a.createElement(N.a,{type:"select",onChange:function(t){return e.setDie(+t.target.value)},placeholder:this.state.die,defaultValue:20},c.a.createElement("option",null,"4"),c.a.createElement("option",null,"6"),c.a.createElement("option",null,"8"),c.a.createElement("option",null,"10"),c.a.createElement("option",null,"20"))," + "),c.a.createElement(P.a,null,c.a.createElement(N.a,{type:"number",onChange:function(t){return e.setMod(+t.target.value)},placeholder:this.state.mod})," = ",c.a.createElement(N.a,{type:"text",value:this.props.res,readOnly:!0}))))))}}]),t}(c.a.Component)),L=(a(123),a(124)),R=function(e,t){new L({apiKey:"61804754-7dfe-4259-9e1b-7dc2ca110a00"}).generateIntegers(t).then(function(t){e(t.random.data)}).catch(function(e){console.log(e)})},I=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).addDie=a.addDie.bind(Object(k.a)(a)),a.removeDie=a.removeDie.bind(Object(k.a)(a)),a.roll=a.roll.bind(Object(k.a)(a)),a.rollDice=a.rollDice.bind(Object(k.a)(a)),a.summedValues=a.summedValues.bind(Object(k.a)(a)),a.rollD20=a.rollD20.bind(Object(k.a)(a)),a.rollAdvantage=a.rollAdvantage.bind(Object(k.a)(a)),a.rollDisadvantage=a.rollDisadvantage.bind(Object(k.a)(a)),a.defaultDie={n:1,die:20,mod:0,res:0,advantage:!1,disadvantage:!1},a.state={rolls:[a.defaultDie]},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"roll",value:function(e,t,a,n){R(e.bind(null,a,n),t)}},{key:"rollDice",value:function(e){var t=this;e.forEach(function(a,n){var r,l;20===a.die?a.advantage&&!a.disadvantage?(l={n:2,min:1,max:20,replacement:!0},r=t.rollAdvantage):a.disadvantage&&!a.advantage?(l={n:2,min:1,max:20,replacement:!0},r=t.rollDisadvantage):(l={n:a.n,min:1,max:20,replacement:!0},r=t.rollD20):a.critical?(l={n:2*a.n,min:1,max:a.die,replacement:!0},r=t.summedValues):(l={n:a.n,min:1,max:a.die,replacement:!0},r=t.summedValues),t.roll(r,l,e,n)})}},{key:"summedValues",value:function(e,t,a){var n=a.reduce(function(e,t){return e+t});e[t].res=n+e[t].mod,this.setState({rolls:e})}},{key:"rollD20",value:function(e,t,a){var n,r=e[t];if(1===a.length){var l=20===a[0]?" \u2618":1===a[0]?" \u2620":"";n=a[0]+r.mod+l}else n=" (",a.forEach(function(e){n+=e+r.mod+", "}),n=n.slice(0,-2),n+=")";r.res=n,this.setState({rolls:e})}},{key:"rollAdvantage",value:function(e,t,a){var n=e[t],r=a[0]>=a[1]?a[0]:a[1];n.res=r+n.mod+" ("+a[0]+", "+a[1]+")",this.setState({rolls:e})}},{key:"rollDisadvantage",value:function(e,t,a){var n=e[t],r=a[0]<=a[1]?a[0]:a[1];n.res=r+n.mod+" ("+a[0]+", "+a[1]+")",this.setState({rolls:e})}},{key:"addDie",value:function(){var e=this.state.rolls;e.push(JSON.parse(JSON.stringify(this.defaultDie))),this.setState({rolls:e})}},{key:"removeDie",value:function(e){var t=this.state.rolls;t.splice(e.nth,1),this.setState({rolls:t})}},{key:"render",value:function(){var e=this,t=this.state.rolls,a=function(a,n){a.hidden?(t.splice(a.nth,1),e.setState(t)):n?(t[a.nth]=a,e.setState({rolls:t})):t[a.nth]=a};return c.a.createElement(l.Fragment,null,c.a.createElement(O.a,null,c.a.createElement(j.a,null,c.a.createElement(O.a,null,c.a.createElement(x.a,{onClick:this.addDie,block:!0},"+ Add Die")),c.a.createElement(O.a,null,c.a.createElement(j.a,{style:{padding:"0"}},function(){if(t.length>1){var e=[];return t.forEach(function(t,n){e.push(c.a.createElement(F,{nth:n,n:t.n,die:t.die,mod:t.mod,res:t.res.toString(10),advantage:t.advantage,disadvantage:t.disadvantage,critical:t.critical,callback:a,key:n,removable:!0}))}),e}var n=t[0];return c.a.createElement(F,{nth:0,n:n.n,die:n.die,mod:n.mod,res:n.res.toString(10),advantage:n.advantage,disadvantage:n.disadvantage,critical:n.critical,callback:a})}())),c.a.createElement(O.a,null,c.a.createElement(x.a,{onClick:function(){e.rollDice(t)},block:!0},"Roll")))))}}]),t}(c.a.Component),J=a(164),B=(a(146),c.a.Component,a(165)),T=(a(147),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={current:a.props.max,temp:0,damage:0},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.temp,a=this.props.damage,n=(this.props.max,function(t){e.setState({current:+e.props.max+e.state.temp-t,damage:t})});return this.props.socket.on("receiveDamage",function(t){return n(e.state.damage+t)}),c.a.createElement(H.a,{fade:!1},c.a.createElement(M.a,null,c.a.createElement(B.a,null,c.a.createElement(O.a,null,c.a.createElement("h1",null,this.props.character)),c.a.createElement(O.a,null,"AC: ",this.props.ac))),c.a.createElement(V.a,null,c.a.createElement(J.a,null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Max HP"),c.a.createElement("td",null,this.props.max)),c.a.createElement("tr",null,c.a.createElement("td",null,"Current HP"),c.a.createElement("td",null,this.state.current)),c.a.createElement("tr",null,c.a.createElement("td",null,"Temp HP"),c.a.createElement("td",null,c.a.createElement(N.a,{onChange:function(t){+t.target.value<=0?e.setState({current:e.props.max-e.state.damage,temp:0}):e.setState({current:+e.props.max+ +t.target.value-e.state.damage,temp:+t.target.value})},type:"number",placeholder:this.state.temp,value:t,className:"width-sm"}))),c.a.createElement("tr",null,c.a.createElement("td",null,"Damage"),c.a.createElement("td",null,c.a.createElement(N.a,{onChange:function(e){n(+e.target.value)},type:"number",placeholder:this.state.damage,value:a,className:"width-sm"})))))))}}]),t}(c.a.Component)),q=a(166),G=a(167),K=function(e){function t(){return Object(E.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=!1,a=!1,n=1,r=20,i=0,s=function(){console.log("AttackRoller => n: %s, die: %s, mod: %s",n,r,i),R(function(t){e.props.callback(t[0]+ +i)},{n:n,min:1,max:r,replacement:!0})};return"attack"===this.props.action.toLowerCase()?c.a.createElement(l.Fragment,null,c.a.createElement(O.a,null,c.a.createElement(j.a,{xs:"4"},c.a.createElement(w.a,null,c.a.createElement(A.a,{check:!0},c.a.createElement(P.a,{check:!0},c.a.createElement(N.a,{type:"checkbox",onChange:function(){return t=!t},checked:t})," ","Advantage"," ")),c.a.createElement(A.a,{check:!0},c.a.createElement(P.a,{check:!0},c.a.createElement(N.a,{type:"checkbox",onChange:function(){return a=!a},checked:a})," ","Disadvantage"," ")))),c.a.createElement(j.a,{xs:"8"},(n=1,r=20,c.a.createElement(w.a,{inline:!0},c.a.createElement(x.a,{onClick:s,style:{marginRight:"1em"}},"Attack")," + ",c.a.createElement(N.a,{type:"number",onChange:function(e){return i=+e},placeholder:i})))))):"heal"===this.props.action.toLowerCase()?c.a.createElement(l.Fragment,null,c.a.createElement(O.a,null,c.a.createElement(j.a,{xs:"12"},(n=1,r=4,c.a.createElement(w.a,{inline:!0},c.a.createElement(x.a,{onClick:s,style:{marginRight:"1em"}},"Heal"),c.a.createElement(P.a,null,c.a.createElement(N.a,{type:"number",onChange:function(e){return n=+e.target.value},className:"width-sm",placeholder:1})," d "),c.a.createElement(P.a,null,c.a.createElement(N.a,{type:"select",onChange:function(e){return r=+e.target.value},placeholder:r},c.a.createElement("option",null,"4"),c.a.createElement("option",null,"6"),c.a.createElement("option",null,"8"),c.a.createElement("option",null,"10"))," + "),c.a.createElement(N.a,{type:"number",onChange:function(e){return i=e.target.value},placeholder:i})))))):null}}]),t}(c.a.Component),z=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).socket=a.props.socket,a.socket.on("actionFromServer",function(e){var t="Log: "+e.from+" "+e.action+"ed "+e.to+" for "+e.roll;a.setState({log:t})}),a.state={target:"",action:"Attack"},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t="";return c.a.createElement(q.a,null,c.a.createElement(G.a,null,t),c.a.createElement(O.a,null,c.a.createElement(j.a,{xs:"3"},c.a.createElement(T,{character:this.props.name,ac:this.props.ac,max:this.props.maxHP,socket:this.socket})),c.a.createElement(j.a,{xs:"9"},c.a.createElement(O.a,null,c.a.createElement(j.a,null,"Action",c.a.createElement(P.a,null,c.a.createElement(N.a,{onChange:function(t){e.setState({action:t.target.value})},type:"select",placeholder:"Attack"},c.a.createElement("option",null,"Attack"),c.a.createElement("option",null,"Heal")))),c.a.createElement(j.a,null,"Target",c.a.createElement(P.a,null,c.a.createElement(N.a,{onChange:function(t){e.setState({target:t.target.value})},type:"select",placeholder:"activeEntities"},c.a.createElement("option",null,"List of activeEntities"),c.a.createElement("option",null,"test"))))),c.a.createElement(K,{callback:function(a){e.state.target.length>0?(e.socket.emit("actionFromPlayer",{id:e.socket.id,name:e.props.name,target:e.state.target,action:e.state.action,roll:a}),t="Log: "+e.props.name+" "+e.state.action+"ed "+e.state.target+" for "+a):t="Alert: Select a valid target"},action:this.state.action}))))}}]),t}(c.a.Component),Q=function(e){function t(e){return Object(E.a)(this,t),Object(f.a)(this,Object(b.a)(t).call(this,e))}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e,t,a,n,r=this;return c.a.createElement(w.a,null,c.a.createElement(A.a,null,c.a.createElement(P.a,{for:"characterName"},"Name:"),c.a.createElement(N.a,{type:"text",name:"name",id:"characterName",placeholder:"Name...",onChange:function(t){return e=t.target.value}})),c.a.createElement(A.a,null,c.a.createElement(P.a,{for:"characterAC"},"Armor Class:"),c.a.createElement(N.a,{type:"number",name:"ac",id:"characterAC",placeholder:"15, 12, 20...",onChange:function(e){return t=+e.target.value}})),c.a.createElement(A.a,null,c.a.createElement(P.a,{for:"characterMaxHP"},"Maximum HP:"),c.a.createElement(N.a,{type:"number",name:"ac",id:"characterMaxHP",placeholder:"40, 20, 55...",onChange:function(e){return a=+e.target.value}})),c.a.createElement(A.a,null,c.a.createElement(P.a,{for:"characterinit"},"Initiative Modifier:"),c.a.createElement(N.a,{type:"number",name:"init",id:"characterinit",placeholder:"40, 20, 55...",onChange:function(e){return n=+e.target.value}})),c.a.createElement(x.a,{onClick:function(){void 0!==e&&void 0!==t&&void 0!==a&&void 0!==n?r.props.callback({name:e,ac:t,maxHP:a,init:n}):r.props.callback("error")}},"Submit"))}}]),t}(c.a.Component),U=!0;function W(){return void 0===n?c.a.createElement(d.a,{to:"/addNewPlayer"}):(U&&(U=!U,(r=v()("https://matthewgreenlaw.com:3001",{query:{type:"Player",name:n.name}})).emit("newPlayer",{id:r.id,name:n.name})),c.a.createElement(z,{name:n.name,ac:n.ac,maxHP:n.maxHP,init:n.init,socket:r}))}function X(e){n=e,document.getElementById("player").click()}function Y(){return console.log("here"),c.a.createElement(Q,{callback:X})}console.log("Generate");var Z=function(){return c.a.createElement(h.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(h.b,{to:"/"},"Home")),c.a.createElement(u.a,null,c.a.createElement(h.b,{to:"/roller/"},"Dice Roller")),c.a.createElement(u.a,null,c.a.createElement(h.b,{to:"/player",id:"player"},"Player Area")))),c.a.createElement(d.b,{path:"/addNewPlayer",component:Y}),c.a.createElement(d.b,{path:"/roller",component:I}),c.a.createElement(d.b,{path:"/player",component:W}))};s.a.render(c.a.createElement(Z,null),document.getElementById("root"))},77:function(e,t,a){e.exports=a(154)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.13eff604.chunk.js.map